<!-- <div ng-repeat="item in vm.list">
  {{item}}
  <br> {{item.from_user_id}}
  <br> {{item.date | date}}
</div> -->


<section>
  <div class="page-header">
    <h1>{{vm.title}}</h1>
  </div>
  <md-content layout-padding>


    <div layout-gt-xs="row">

      <div flex-gt-xs>
        <h5>Exibir:</h5>
        <md-input-container class="md-block" flex-gt-sm>

          <md-select ng-model="vm.selected">
            <md-option ng-repeat="(opt,value) in vm.options " value="{{value}}">
              {{opt}}
            </md-option>
          </md-select>
        </md-input-container>
      </div>
      <div flex-gt-xs>
        <h5>De:</h5>
        <md-datepicker ng-model="vm.dateBegin" ng-change="vm.refreshList()" md-max-date="vm.dateEnd"></md-datepicker>
      </div>

      <div flex-gt-xs>
        <h5>At√©:</h5>
        <md-datepicker ng-model="vm.dateEnd" ng-change="vm.refreshList()" md-min-date="vm.dateBegin" md-max-date="vm.today"></md-datepicker>
      </div>



    </div>
  </md-content>

  <div class="row">
    <md-table-container>
      <table md-table md-progress="vm.promise">
        <thead md-head md-order="mdorder">
          <th md-column md-order-by="_id "><span>Id</span></th>
          <th md-column md-order-by="name"><span>Nome</span></th>
          <th md-column md-numeric><span>Dia</span></th>
          <th md-column md-numeric><span>Valor</span></th>
          <th md-column><span>Tipo</span></th>
          <!--           <th md-column><span>Add Voice Balance</span></th>
          <th md-column><span>Add Data Balance</span></th> -->
        </thead>
        <tbody md-body>
          <tr md-row md-select="item" md-auto-select ng-model="vm.selected" ng-repeat="item in vm.filteredItems  | filter:vm.filter | orderBy: mdorder">
            <td md-cell>{{item._id}}</td>
            <td md-cell>{{item.name}}</td>
            <td md-cell>{{item.day}}</td>
            <!-- <td md-cell>{{item.value}}</td> -->
            <td md-cell ng-if="(item.value < 119) && (item.kind == 1)">{{item.value |number:2}} Seg.</td>
            <td md-cell ng-if="(item.value >= 120 ) && (item.value < 7199 ) && (item.kind == 1)">{{item.value/60 |number:2}} Min.</td>
            <td md-cell ng-if="(item.value >= 7200) && (item.kind == 1) ">{{item.value/3600|number:2}} Horas</td>
            <td md-cell ng-if="(item.value < 2047) && (item.kind == 2) ">{{item.value | number:2}} B</td>
            <td md-cell ng-if="(item.value >= 2048 ) && (item.value < 2097151) && (item.kind == 2) ">{{item.value/1024 | number:2}} KB</td>
            <td md-cell ng-if="(item.value >= 2097152) && (item.value < 2147483647) && (item.kind == 2) ">{{item.value/1048576 | number:2}} MB</td>
            <td md-cell ng-if="(item.value >= 2147483648) && (item.kind == 2) ">{{item.value/1073741824 | number:4}} GB</td>
            <td md-cell ng-if="item.kind == 1 "> Voz</td>
            <td md-cell ng-if="item.kind == 2 "> Dados</td>
            <td md-cell ng-if="item.kind == 3 "> Voz/Dados</td>
          </tr>
        </tbody>
      </table>
    </md-table-container>
  </div>
</section>

{{vm.historic}}